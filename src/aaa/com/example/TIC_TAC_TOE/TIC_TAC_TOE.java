package aaa.com.example.TIC_TAC_TOE;

import java.util.Scanner;

public class TIC_TAC_TOE {

    public static char x[][] = {{' ',' ',' '},{' ',' ',' '},{' ',' ',' '}};
    public static int y=0,z=0,k=0,s,l=1,m=1,c=0;

    public static void print()
    {

        System.out.print("\n             |   |\n");
        System.out.print("           "+x[0][0]+" | "+x[0][1]+" | "+x[0][2]+"\n");
        System.out.print("             |   |\n");
        System.out.print("          --- --- ---\n");
        System.out.print("             |   |\n");
        System.out.print("           "+x[1][0]+" | "+x[1][1]+" | "+x[1][2]+"\n");
        System.out.print("             |   |\n");
        System.out.print("          --- --- ---\n");
        System.out.print("           "+x[2][0]+" | "+x[2][1]+" | "+x[2][2]+"\n");
        System.out.print("             |   |\n");

    }

    public static void check()
    {
        if(x[0][0]=='x'&&x[0][1]=='x'&&x[0][2]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }
        else if(x[1][0]=='x'&&x[1][1]=='x'&&x[1][2]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }
        else if(x[2][0]=='x'&&x[2][1]=='x'&&x[2][2]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }
        else if(x[0][0]=='x'&&x[1][0]=='x'&&x[2][0]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }
        else if(x[0][1]=='x'&&x[1][1]=='x'&&x[2][1]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }
        else if(x[0][2]=='x'&&x[1][2]=='x'&&x[2][2]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }
        else if(x[0][0]=='x'&&x[1][1]=='x'&&x[2][2]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }
        else if(x[0][2]=='x'&&x[1][1]=='x'&&x[2][0]=='x')
        {
            m=0;
            System.out.print("Player one win\n");
            System.exit(0);
        }

        else if(x[0][0]=='o'&&x[0][1]=='o'&&x[0][2]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(x[1][0]=='o'&&x[1][1]=='o'&&x[1][2]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(x[2][0]=='o'&&x[2][1]=='o'&&x[2][2]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(x[0][0]=='o'&&x[1][0]=='o'&&x[2][0]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(x[0][1]=='o'&&x[1][1]=='o'&&x[2][1]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(x[0][2]=='o'&&x[1][2]=='o'&&x[2][2]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(x[0][0]=='o'&&x[1][1]=='o'&&x[2][2]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(x[0][2]=='o'&&x[1][1]=='o'&&x[2][0]=='o')
        {
            m=0;
            System.out.print("Player two win\n");
        }
        else if(c==5)
        {
            System.out.print("No one win\n");
            System.exit(0);
        }

    }

    public static void avoid_loss()
    {
        if((x[0][1]=='o'&&x[0][2]=='o' || x[1][1]=='o'&&x[2][2]=='o' || x[1][0]=='o'&&x[2][0]=='o')&&x[0][0]!='x')
        {
            y=0;
            z=0;
        }
        else if((x[0][0]=='o'&&x[0][2]=='o' || x[1][1]=='o'&&x[2][1]=='o')&&x[0][1]!='x')
        {
            y=0;
            z=1;
        }
        else if((x[0][0]=='o'&&x[0][1]=='o' || x[1][1]=='o'&&x[2][0]=='o' || x[1][2]=='o'&&x[2][2]=='o')&&x[0][2]!='x')
        {
            y=0;
            z=2;
        }
        else if((x[0][0]=='o'&&x[2][0]=='o' || x[1][1]=='o'&&x[1][2]=='o')&&x[1][0]!='x')
        {
            y=1;
            z=0;
        }
        else if((x[0][0]=='o'&&x[2][2]=='o' || x[0][2]=='o'&&x[2][0]=='o' || x[0][1]=='o'&&x[2][1]=='o' || x[1][0]=='o'&&x[1][2]=='o')&&x[1][1]!='x')
        {
            y=1;
            z=1;
        }
        else if((x[0][2]=='o'&&x[2][2]=='o' || x[1][0]=='o'&&x[1][1]=='o')&&x[1][2]!='x')
        {
            y=1;
            z=2;
        }
        else if((x[0][0]=='o'&&x[1][0]=='o' || x[2][1]=='o'&&x[2][2]=='o' || x[1][1]=='o'&&x[0][2]=='o')&&x[2][0]!='x')
        {
            y=2;
            z=0;
        }
        else if((x[0][1]=='o'&&x[1][1]=='o' || x[2][0]=='o'&&x[2][2]=='o')&&x[2][1]!='x')
        {
            y=2;
            z=1;
        }
        else if((x[0][2]=='o'&&x[1][2]=='o' || x[2][0]=='o'&&x[2][1]=='o' || x[0][0]=='o'&&x[1][1]=='o')&&x[2][2]!='x')
        {
            y=2;
            z=2;
        }
        else if((x[0][1]=='x'&&x[0][2]=='x' || x[1][1]=='x'&&x[2][2]=='x' || x[1][0]=='x'&&x[2][0]=='x')&&x[0][0]!='o')
        {
            y=0;
            z=0;
        }
        else if((x[0][0]=='x'&&x[0][2]=='x' || x[1][1]=='x'&&x[2][1]=='x')&&x[0][1]!='o')
        {
            y=0;
            z=1;
        }
        else if((x[0][0]=='x'&&x[0][1]=='x' || x[1][1]=='x'&&x[2][0]=='x' || x[1][2]=='x'&&x[2][2]=='x')&&x[0][2]!='o')
        {
            y=0;
            z=2;
        }
        else if((x[0][0]=='x'&&x[2][0]=='x' || x[1][1]=='x'&&x[1][2]=='x')&&x[1][0]!='o')
        {
            y=1;
            z=0;
        }
        else if((x[0][0]=='x'&&x[2][2]=='x' || x[0][2]=='x'&&x[2][0]=='x' || x[0][1]=='x'&&x[2][1]=='x' || x[1][0]=='x'&&x[1][2]=='x')&&x[1][1]!='o')
        {
            y=1;
            z=1;
        }
        else if((x[0][2]=='x'&&x[2][2]=='x' || x[1][0]=='x'&&x[1][1]=='x')&&x[1][2]!='o')
        {
            y=1;
            z=2;
        }
        else if((x[0][0]=='x'&&x[1][0]=='x' || x[2][1]=='x'&&x[2][2]=='x' || x[1][1]=='x'&&x[0][2]=='x')&&x[2][0]!='o')
        {
            y=2;
            z=0;
        }
        else if((x[0][1]=='x'&&x[1][1]=='x' || x[2][0]=='x'&&x[2][2]=='x')&&x[2][1]!='o')
        {
            y=2;
            z=1;
        }
        else if((x[0][2]=='x'&&x[1][2]=='x' || x[2][0]=='x'&&x[2][1]=='x' || x[0][0]=='x'&&x[1][1]=='x')&&x[2][2]!='o')
        {
            y=2;
            z=2;
        }

        else if((x[0][0]==' ')&&(x[0][1]=='o'||x[0][2]=='o')&&(x[1][0]=='o'||x[2][0]=='o')&&(x[0][1]==' '||x[0][2]==' ')&&(x[1][0]==' '||x[2][0]==' '))
        {
            y=0;
            z=0;
        }
        else if((x[0][0]==' ')&&(x[0][1]=='o'||x[0][2]=='o')&&(x[1][1]=='o'||x[2][2]=='o')&&(x[0][1]==' '||x[0][2]==' ')&&(x[1][1]==' '||x[2][2]==' '))
        {
            y=0;
            z=0;
        }
        else if((x[0][0]==' ')&&(x[1][1]=='o'||x[2][2]=='o')&&(x[1][0]=='o'||x[2][0]=='o')&&(x[1][1]==' '||x[2][2]==' ')&&(x[1][0]==' '||x[2][0]==' '))
        {
            y=0;
            z=0;
        }
        else if((x[0][2]==' ')&&(x[0][0]=='o'||x[0][1]=='o')&&(x[1][2]=='o'||x[2][2]=='o')&&(x[0][0]==' '||x[0][1]==' ')&&(x[1][2]==' '||x[2][2]==' '))
        {
            y=0;
            z=2;
        }else if((x[0][2]==' ')&&(x[1][1]=='o'||x[2][0]=='o')&&(x[0][0]=='o'||x[0][1]=='o')&&(x[1][1]==' '||x[2][0]==' ')&&(x[0][0]==' '||x[0][1]==' '))
        {
            y=0;
            z=2;
        }else if((x[0][2]==' ')&&(x[1][1]=='o'||x[2][0]=='o')&&(x[1][2]=='o'||x[2][2]=='o')&&(x[1][1]==' '||x[2][0]==' ')&&(x[1][2]==' '||x[2][2]==' '))
        {
            y=0;
            z=2;
        }else if((x[2][0]==' ')&&(x[0][0]=='o'||x[1][0]=='o')&&(x[0][2]=='o'||x[1][1]=='o')&&(x[0][0]==' '||x[1][0]==' ')&&(x[0][2]==' '||x[1][1]==' '))
        {
            y=2;
            z=0;
        }else if((x[2][0]==' ')&&(x[0][0]=='o'||x[1][0]=='o')&&(x[2][1]=='o'||x[2][2]=='o')&&(x[0][0]==' '||x[1][0]==' ')&&(x[2][1]==' '||x[2][2]==' '))
        {
            y=2;
            z=0;
        }else if((x[2][0]==' ')&&(x[1][1]=='o'||x[0][2]=='o')&&(x[2][1]=='o'||x[2][2]=='o')&&(x[1][1]==' '||x[0][2]==' ')&&(x[2][1]==' '||x[2][2]==' '))
        {
            y=2;
            z=0;
        }else if((x[2][2]==' ')&&(x[0][2]=='o'||x[1][2]=='o')&&(x[0][0]=='o'||x[1][1]=='o')&&(x[0][2]==' '||x[1][2]==' ')&&(x[0][0]==' '||x[1][1]==' '))
        {
            y=2;
            z=2;
        }else if((x[2][2]==' ')&&(x[0][2]=='o'||x[1][2]=='o')&&(x[2][0]=='o'||x[2][1]=='o')&&(x[0][2]==' '||x[1][2]==' ')&&(x[2][0]==' '||x[2][1]==' '))
        {
            y=2;
            z=2;
        }else if((x[2][2]==' ')&&(x[0][0]=='o'||x[1][1]=='o')&&(x[2][0]=='o'||x[2][1]=='o')&&(x[0][0]==' '||x[1][1]==' ')&&(x[2][0]==' '||x[2][1]==' '))
        {
            y=2;
            z=2;
        }

        else if((x[0][0]==' ')&&(x[0][1]=='x'||x[0][2]=='x')&&(x[1][0]=='x'||x[2][0]=='x')&&(x[0][1]==' '||x[0][2]==' ')&&(x[1][0]==' '||x[2][0]==' '))
        {
            y=0;
            z=0;
        }
        else if((x[0][0]==' ')&&(x[0][1]=='x'||x[0][2]=='x')&&(x[1][1]=='x'||x[2][2]=='x')&&(x[0][1]==' '||x[0][2]==' ')&&(x[1][1]==' '||x[2][2]==' '))
        {
            y=0;
            z=0;
        }
        else if((x[0][0]==' ')&&(x[1][1]=='x'||x[2][2]=='x')&&(x[1][0]=='x'||x[2][0]=='x')&&(x[1][1]==' '||x[2][2]==' ')&&(x[1][0]==' '||x[2][0]==' '))
        {
            y=0;
            z=0;
        }
        else if((x[0][2]==' ')&&(x[0][0]=='x'||x[0][1]=='x')&&(x[1][2]=='x'||x[2][2]=='x')&&(x[0][0]==' '||x[0][1]==' ')&&(x[1][2]==' '||x[2][2]==' '))
        {
            y=0;
            z=2;
        }else if((x[0][2]==' ')&&(x[1][1]=='x'||x[2][0]=='x')&&(x[0][0]=='x'||x[0][1]=='x')&&(x[1][1]==' '||x[2][0]==' ')&&(x[0][0]==' '||x[0][1]==' '))
        {
            y=0;
            z=2;
        }else if((x[0][2]==' ')&&(x[1][1]=='x'||x[2][0]=='x')&&(x[1][2]=='x'||x[2][2]=='x')&&(x[1][1]==' '||x[2][0]==' ')&&(x[1][2]==' '||x[2][2]==' '))
        {
            y=0;
            z=2;
        }else if((x[2][0]==' ')&&(x[0][0]=='x'||x[1][0]=='x')&&(x[0][2]=='x'||x[1][1]=='x')&&(x[0][0]==' '||x[1][0]==' ')&&(x[0][2]==' '||x[1][1]==' '))
        {
            y=2;
            z=0;
        }else if((x[2][0]==' ')&&(x[0][0]=='x'||x[1][0]=='x')&&(x[2][1]=='x'||x[2][2]=='x')&&(x[0][0]==' '||x[1][0]==' ')&&(x[2][1]==' '||x[2][2]==' '))
        {
            y=2;
            z=0;
        }else if((x[2][0]==' ')&&(x[1][1]=='x'||x[0][2]=='x')&&(x[2][1]=='x'||x[2][2]=='x')&&(x[1][1]==' '||x[0][2]==' ')&&(x[2][1]==' '||x[2][2]==' '))
        {
            y=2;
            z=0;
        }else if((x[2][2]==' ')&&(x[0][2]=='x'||x[1][2]=='x')&&(x[0][0]=='x'||x[1][1]=='x')&&(x[0][2]==' '||x[1][2]==' ')&&(x[0][0]==' '||x[1][1]==' '))
        {
            y=2;
            z=2;
        }else if((x[2][2]==' ')&&(x[0][2]=='x'||x[1][2]=='x')&&(x[2][0]=='x'||x[2][1]=='x')&&(x[0][2]==' '||x[1][2]==' ')&&(x[2][0]==' '||x[2][1]==' '))
        {
            y=2;
            z=2;
        }else if((x[2][2]==' ')&&(x[0][0]=='x'||x[1][1]=='x')&&(x[2][0]=='x'||x[2][1]=='x')&&(x[0][0]==' '||x[1][1]==' ')&&(x[2][0]==' '||x[2][1]==' '))
        {
            y=2;
            z=2;
        }

        else
        {
            if(x[0][0]=='o')
            {
                if(x[0][1]==' '&&x[0][2]==' ')
                {
                    y=0;
                    z=2;
                }
                else if(x[1][1]==' '&&x[2][2]==' ')
                {
                    y=2;
                    z=2;
                }
                else if(x[1][0]==' '&&x[2][0]==' ')
                {
                    y=2;
                    z=0;
                }
            }
            else if(x[0][1]=='o')
            {
                if(x[0][0]==' '&&x[0][2]==' ')
                {
                    y=0;
                    z=2;
                }
                else if(x[1][1]==' '&&x[2][1]==' ')
                {
                    y=2;
                    z=1;
                }
            }
            else if(x[0][2]=='o')
            {
                if(x[0][0]==' '&&x[0][1]==' ')
                {
                    y=0;
                    z=1;
                }
                else if(x[1][1]==' '&&x[2][0]==' ')
                {
                    y=2;
                    z=0;
                }
                else if(x[1][2]==' '&&x[2][2]==' ')
                {
                    y=2;
                    z=2;
                }
            }
            else if(x[1][0]=='o')
            {
                if(x[0][0]==' '&&x[2][0]==' ')
                {
                    y=2;
                    z=0;
                }
                else if(x[1][1]==' '&&x[1][2]==' ')
                {
                    y=1;
                    z=2;
                }
            }
            else if(x[1][1]=='o')
            {
                if(x[0][1]==' '&&x[2][1]==' ')
                {
                    y=2;
                    z=1;
                }
                else if(x[1][0]==' '&&x[1][2]==' ')
                {
                    y=1;
                    z=2;
                }
                else if(x[0][0]==' '&&x[2][2]==' ')
                {
                    y=2;
                    z=2;
                }
                else if(x[0][2]==' '&&x[2][0]==' ')
                {
                    y=2;
                    z=0;
                }
            }
            else if(x[1][2]=='o')
            {
                if(x[0][2]==' '&&x[2][2]==' ')
                {
                    y=2;
                    z=2;
                }
                else if(x[1][0]==' '&&x[1][1]==' ')
                {
                    y=1;
                    z=1;
                }
            }
            else if(x[2][0]=='o')
            {
                if(x[0][0]==' '&&x[1][0]==' ')
                {
                    y=1;
                    z=0;
                }
                else if(x[2][1]==' '&&x[2][2]==' ')
                {
                    y=2;
                    z=2;
                }
                else if(x[1][1]==' '&&x[0][2]==' ')
                {
                    y=0;
                    z=2;
                }
            }
            else if(x[2][1]=='o')
            {
                if(x[2][0]==' '&&x[2][2]==' ')
                {
                    y=2;
                    z=2;
                }
                else if(x[0][1]==' '&&x[1][1]==' ')
                {
                    y=1;
                    z=1;
                }
            }
            else if(x[2][2]=='o')
            {
                if(x[0][2]==' '&&x[1][2]==' ')
                {
                    y=1;
                    z=2;
                }
                else if(x[0][0]==' '&&x[1][1]==' ')
                {
                    y=1;
                    z=1;
                }
                else if(x[2][0]==' '&&x[2][1]==' ')
                {
                    y=2;
                    z=1;
                }
            }
            else
            {
                for(int i=0;i<9;i++)
                {
                    if(x[i/3][i%3]!='x'&&x[i/3][i%3]!='o')
                    {
                        y=i/3;
                        z=i%3;
                    }
                }
            }
        }
    }

    public static void cpu_try()
    {
        if(c==1)
        {
            if(x[1][1]=='x')
            {
                y=0;
                z=2;
            }
            else if(x[0][0]=='x' || x[0][2]=='x' || x[2][0]=='x' || x[2][2]=='x')
            {
                y=1;
                z=1;
            }
            else if(x[0][1]=='x' || x[1][0]=='x' || x[2][1]=='x' || x[1][2]=='x')
            {
                y=1;
                z=1;
            }
        }
        else
        {
            avoid_loss();
        }
    }

    public static void main(String[] args) {
        Scanner myObj = new Scanner(System.in);
        System.out.print("Select one option:\n1)One player\n2)Two players\n");
        s = myObj.nextInt();
        while(m == 1)
        {
            c++;
            while(l==1)
            {
                System.out.print("Player one try\n");
                k = myObj.nextInt();
                y = (k-1)/3;
                z = (k-1)%3;
                if(x[y][z]!='x' && x[y][z]!='o')
                    l=0;
            }
            x[y][z] = 'x';
            print();
            l=1;
            check();
            while(l==1)
            {
                if(s==2)
                {
                    System.out.print("Player two try\n");
                    k = myObj.nextInt();
                    y = (k - 1) / 3;
                    z = (k - 1) % 3;
                    if (x[y][z] != 'x' && x[y][z] != 'o')
                        l = 0;
                }
                else if(s==1)
                {
                    cpu_try();
                    l=0;
                }
            }
            x[y][z] = 'o';
            print();
            l=1;
            check();
        }
        return ;
    }
}
